const curriculum = {
    8: {
        '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞': '–ò–∑—É—á–∞–≤–∞–Ω–µ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∞—Ç–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç –í—ä–∑—Ä–∞–∂–¥–∞–Ω–µ—Ç–æ, –≥—Ä–∞–º–∞—Ç–∏–∫–∞ –∏ –ø—Ä–∞–≤–æ–ø–∏—Å.',
        '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞': '–ê–ª–≥–µ–±—Ä–∞ –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—è - —Å–∏—Å—Ç–µ–º–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è, –æ–∫—Ä—ä–∂–Ω–æ—Å—Ç, —Ç—Ä–∏—ä–≥—ä–ª–Ω–∏–∫.',
        '–ò—Å—Ç–æ—Ä–∏—è': '–ë—ä–ª–≥–∞—Ä—Å–∫–æ –≤—ä–∑—Ä–∞–∂–¥–∞–Ω–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è.',
        '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è': '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è - –ø—Ä–∏—Ä–æ–¥–∞, –Ω–∞—Å–µ–ª–µ–Ω–∏–µ, —Å—Ç–æ–ø–∞–Ω—Å—Ç–≤–æ.',
        '–ë–∏–æ–ª–æ–≥–∏—è': '–ß–æ–≤–µ—à–∫–æ—Ç–æ —Ç—è–ª–æ –∏ –∑–¥—Ä–∞–≤–Ω–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.',
        '–•–∏–º–∏—è': '–û—Å–Ω–æ–≤–∏ –Ω–∞ —Ö–∏–º–∏—è—Ç–∞, —Ö–∏–º–∏—á–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –∏ —Å—ä–µ–¥–∏–Ω–µ–Ω–∏—è.',
        '–§–∏–∑–∏–∫–∞': '–ú–µ—Ö–∞–Ω–∏–∫–∞, –¥–≤–∏–∂–µ–Ω–∏–µ –∏ —Å–∏–ª–∏.',
        '–ê–Ω–≥–ª–∏–π—Å–∫–∏ –µ–∑–∏–∫': '–†–∞–∑—à–∏—Ä—è–≤–∞–Ω–µ –Ω–∞ —Ä–µ—á–Ω–∏–∫–æ–≤–∏—è –∑–∞–ø–∞—Å, –≥—Ä–∞–º–∞—Ç–∏–∫–∞ –Ω–∞ –Ω–∏–≤–æ B1.'
    },
    9: {
        '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞': '–°—Ç–∞—Ä–æ–±—ä–ª–≥–∞—Ä—Å–∫–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç –°—Ä–µ–¥–Ω–æ–≤–µ–∫–æ–≤–∏–µ—Ç–æ.',
        '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞': '–§—É–Ω–∫—Ü–∏–∏, —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è, –≤–µ–∫—Ç–æ—Ä–∏.',
        '–ò—Å—Ç–æ—Ä–∏—è': '–°–≤–µ—Ç–æ–≤–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è - –æ—Ç –¥—Ä–µ–≤–Ω–æ—Å—Ç—Ç–∞ –¥–æ medievalsko.',
        '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è': '–ü—Ä–∏—Ä–æ–¥–Ω–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏—è –Ω–∞ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∏—Ç–µ.',
        '–ë–∏–æ–ª–æ–≥–∏—è': '–ë–∏–æ–ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ - –æ—Ä–≥–∞–Ω–∏–∑–º–∏ –∏ –µ–∫–æ—Å–∏—Å—Ç–µ–º–∏.',
        '–•–∏–º–∏—è': '–•–∏–º–∏—á–Ω–∏ –ø—Ä–æ—Ü–µ—Å–∏ –∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏.',
        '–§–∏–∑–∏–∫–∞': '–¢–æ–ø–ª–∏–Ω–Ω–∏ —è–≤–ª–µ–Ω–∏—è –∏ –µ–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ.',
        '–ê–Ω–≥–ª–∏–π—Å–∫–∏ –µ–∑–∏–∫': '–ö–æ–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω–∏ —É–º–µ–Ω–∏—è –Ω–∞ –Ω–∏–≤–æ B1-B2.'
    },
    10: {
        '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞': '–ë—ä–ª–≥–∞—Ä—Å–∫–∞ –≤—ä–∑—Ä–æ–∂–¥–µ–Ω—Å–∫–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞.',
        '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞': '–õ–æ–≥–∞—Ä–∏—Ç–º–∏, –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏.',
        '–ò—Å—Ç–æ—Ä–∏—è': '–ù–æ–≤–∞ –∏—Å—Ç–æ—Ä–∏—è –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è –∏ —Å–≤–µ—Ç–∞.',
        '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è': '–°–æ—Ü–∏–∞–ª–Ω–æ-–∏–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏—è –Ω–∞ —Å–≤–µ—Ç–∞.',
        '–ë–∏–æ–ª–æ–≥–∏—è': '–ö–ª–µ—Ç—ä—á–Ω–∞ –±–∏–æ–ª–æ–≥–∏—è –∏ –≥–µ–Ω–µ—Ç–∏–∫–∞.',
        '–•–∏–º–∏—è': '–û—Ä–≥–∞–Ω–∏—á–Ω–∞ —Ö–∏–º–∏—è.',
        '–§–∏–∑–∏–∫–∞': '–¢—Ä–µ–ø—Ç–µ–Ω–∏—è –∏ –≤—ä–ª–Ω–∏, –æ–ø—Ç–∏–∫–∞.',
        '–ê–Ω–≥–ª–∏–π—Å–∫–∏ –µ–∑–∏–∫': '–ê–∫–∞–¥–µ–º–∏—á–Ω–∏ —É–º–µ–Ω–∏—è –Ω–∞ –Ω–∏–≤–æ B2.'
    },
    11: {
        '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞': '–ë—ä–ª–≥–∞—Ä—Å–∫–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –æ—Ç –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ—Ç–æ –¥–æ –ü—ä—Ä–≤–∞—Ç–∞ —Å–≤–µ—Ç–æ–≤–Ω–∞ –≤–æ–π–Ω–∞.',
        '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞': '–ò–Ω—Ç–µ–≥—Ä–∞–ª–∏, –∞–Ω–∞–ª–∏—Ç–∏—á–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—è.',
        '–ò—Å—Ç–æ—Ä–∏—è': '–°—ä–≤—Ä–µ–º–µ–Ω–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è –∏ —Å–≤–µ—Ç–∞.',
        '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è': '–ì–ª–æ–±–∞–ª–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏ –Ω–∞ —Å—ä–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—Ç–∞.',
        '–ë–∏–æ–ª–æ–≥–∏—è': '–ï–≤–æ–ª—é—Ü–∏—è –∏ –µ–∫–æ–ª–æ–≥–∏—è.',
        '–•–∏–º–∏—è': '–ü—Ä–∏–ª–æ–∂–Ω–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–Ω–∞ —Ö–∏–º–∏—è.',
        '–§–∏–∑–∏–∫–∞': '–ê—Ç–æ–º–Ω–∞ –∏ —è–¥—Ä–µ–Ω–∞ —Ñ–∏–∑–∏–∫–∞.',
        '–ê–Ω–≥–ª–∏–π—Å–∫–∏ –µ–∑–∏–∫': '–ë–∏–∑–Ω–µ—Å –∞–Ω–≥–ª–∏–π—Å–∫–∏ –∏ –∞–∫–∞–¥–µ–º–∏—á–Ω–æ –ø–∏—Å–∞–Ω–µ.'
    },
    12: {
        '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞': '–°—ä–≤—Ä–µ–º–µ–Ω–Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞ –º–∞—Ç—É—Ä–∞.',
        '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞': '–û–±–æ–±—â–µ–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞ –º–∞—Ç—É—Ä–∞.',
        '–ò—Å—Ç–æ—Ä–∏—è': '–û–±–æ–±—â–µ–Ω–∏–µ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∞—Ç–∞ –∏ —Å–≤–µ—Ç–æ–≤–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è.',
        '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è': '–†–µ–≥–∏–æ–Ω–∞–ª–Ω–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏—è –∏ –≥–µ–æ–ø–æ–ª–∏—Ç–∏–∫–∞.',
        '–ë–∏–æ–ª–æ–≥–∏—è': '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç—Å—Ç—É–¥–µ–Ω—Ç—Å–∫–∏ –∏–∑–ø–∏—Ç–∏.',
        '–•–∏–º–∏—è': '–û–±–æ–±—â–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞ —Ö–∏–º–∏—è.',
        '–§–∏–∑–∏–∫–∞': '–°—ä–≤—Ä–µ–º–µ–Ω–Ω–∞ —Ñ–∏–∑–∏–∫–∞ –∏ –∞—Å—Ç—Ä–æ–Ω–æ–º–∏—è.',
        '–ê–Ω–≥–ª–∏–π—Å–∫–∏ –µ–∑–∏–∫': '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∏ –∏–∑–ø–∏—Ç–∏.'
    }
};

// –ò–∫–æ–Ω–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç–∏
const subjectIcons = {
    '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞': 'üìö',
    '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞': 'üìê',
    '–ò—Å—Ç–æ—Ä–∏—è': 'üèõÔ∏è',
    '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è': 'üåç',
    '–ë–∏–æ–ª–æ–≥–∏—è': 'üß¨',
    '–•–∏–º–∏—è': '‚öóÔ∏è',
    '–§–∏–∑–∏–∫–∞': '‚ö°',
    '–ê–Ω–≥–ª–∏–π—Å–∫–∏ –µ–∑–∏–∫': 'üåê'
};

let currentGrade = null;
let isAnimating = false;

function showGrade(grade) {
    if (currentGrade === grade || isAnimating) return;
    isAnimating = true;
    
    const gradeTitle = document.getElementById('grade-title');
    const subjectsDiv = document.getElementById('subjects');
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞ –∏–∑—á–µ–∑–≤–∞–Ω–µ
    subjectsDiv.style.opacity = '0';
    subjectsDiv.style.transform = 'translateY(-20px)';
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞ –∑–∞–≥–ª–∞–≤–∏–µ—Ç–æ
    gradeTitle.classList.remove('animate');
    void gradeTitle.offsetWidth; // –§–æ—Ä—Å–∏—Ä–∞–º–µ reflow
    gradeTitle.classList.add('animate');
    
    setTimeout(() => {
        gradeTitle.textContent = `${grade} –∫–ª–∞—Å`;
        subjectsDiv.innerHTML = '';

        const subjects = curriculum[grade];
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –ø—Ä–∞–∑–Ω–∏ –¥–∞–Ω–Ω–∏
        if (!subjects || Object.keys(subjects).length === 0) {
            const emptyMessage = document.createElement('div');
            emptyMessage.className = 'empty-message';
            emptyMessage.textContent = '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞ –∑–∞ —Ç–æ–∑–∏ –∫–ª–∞—Å —Å–∫–æ—Ä–æ —â–µ –±—ä–¥–µ –¥–æ–±–∞–≤–µ–Ω–∞.';
            subjectsDiv.appendChild(emptyMessage);
            subjectsDiv.style.opacity = '1';
            subjectsDiv.style.transform = 'translateY(0)';
            isAnimating = false;
            return;
        }

        // –°—ä–∑–¥–∞–≤–∞–º–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞ –ø–æ–¥—Ä–µ–¥–±–∞
        const gridContainer = document.createElement('div');
        gridContainer.className = 'subjects-grid';
        subjectsDiv.appendChild(gridContainer);

        // –°–æ—Ä—Ç–∏—Ä–∞–º–µ –ø—Ä–µ–¥–º–µ—Ç–∏—Ç–µ –ø–æ –∞–∑–±—É—á–µ–Ω —Ä–µ–¥
        const sortedSubjects = Object.entries(subjects).sort((a, b) => a[0].localeCompare(b[0]));
        let delay = 0;

        for (const [subject, description] of sortedSubjects) {
            const subjectElement = document.createElement('div');
            subjectElement.className = 'subject';
            subjectElement.style.opacity = '0';
            subjectElement.style.transform = 'translateY(20px)';
            subjectElement.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
            subjectElement.style.transitionDelay = `${delay}s`;
            
            const icon = subjectIcons[subject] || 'üìñ';
            
            subjectElement.innerHTML = `
                <h3>
                    <span class="subject-icon">${icon}</span>
                    ${subject}
                </h3>
                <p>${description}</p>
            `;
            
            gridContainer.appendChild(subjectElement);
            delay += 0.1;
            
            // –§–æ—Ä—Å–∏—Ä–∞–º–µ reflow –∑–∞ –∞–Ω–∏–º–∞—Ü–∏—è—Ç–∞
            subjectElement.offsetHeight;
            
            setTimeout(() => {
                subjectElement.style.opacity = '1';
                subjectElement.style.transform = 'translateY(0)';
            }, 50);
        }
        
        // –ü–æ–∫–∞–∑–≤–∞–º–µ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ —Å –∞–Ω–∏–º–∞—Ü–∏—è
        subjectsDiv.style.opacity = '1';
        subjectsDiv.style.transform = 'translateY(0)';
        
        setTimeout(() => {
            isAnimating = false;
        }, delay * 1000 + 500);
    }, 300);

    // –ê–∫—Ç–∏–≤–µ–Ω –±—É—Ç–æ–Ω —Å –ø–ª–∞–≤–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è
    document.querySelectorAll('.buttons button').forEach(btn => {
        btn.classList.remove('active');
        if (btn.textContent.includes(grade.toString())) {
            btn.classList.add('active');
        }
    });

    currentGrade = grade;
}

// –î–æ–±–∞–≤—è–º–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
document.addEventListener('keydown', (e) => {
    if (currentGrade && !isAnimating) {
        if (e.key === 'ArrowRight' || e.key === 'ArrowUp') {
            const nextGrade = Math.min(currentGrade + 1, 12);
            if (nextGrade !== currentGrade) showGrade(nextGrade);
        } else if (e.key === 'ArrowLeft' || e.key === 'ArrowDown') {
            const prevGrade = Math.max(currentGrade - 1, 8);
            if (prevGrade !== currentGrade) showGrade(prevGrade);
        }
    }
});

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
document.addEventListener('DOMContentLoaded', () => {
    // –î–æ–±–∞–≤—è–º–µ –∫–ª–∞—Å –∑–∞ –∞–∫—Ç–∏–≤–µ–Ω –±—É—Ç–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫
    document.querySelectorAll('.buttons button').forEach(button => {
        button.addEventListener('click', function() {
            if (!isAnimating) {
                const grade = parseInt(this.textContent);
                showGrade(grade);
            }
        });
    });

    // –ó–∞–¥–∞–≤–∞–º–µ –Ω–∞—á–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
    const gradeTitle = document.getElementById('grade-title');
    const subjectsDiv = document.getElementById('subjects');
    
    gradeTitle.textContent = '–ò–∑–±–µ—Ä–µ—Ç–µ –∫–ª–∞—Å';
    gradeTitle.classList.add('initial');
    subjectsDiv.innerHTML = '';
    
    // –î–æ–±–∞–≤—è–º–µ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –Ω–∞—á–∞–ª–µ–Ω –∏–∑–±–æ—Ä
    const initialMessage = document.createElement('div');
    initialMessage.className = 'empty-message';
    initialMessage.innerHTML = `
        <i class="fas fa-hand-point-up" style="font-size: 2rem; margin-bottom: 15px; color: #1a73e8;"></i>
        <p>–ú–æ–ª—è, –∏–∑–±–µ—Ä–µ—Ç–µ –∫–ª–∞—Å –æ—Ç –±—É—Ç–æ–Ω–∏—Ç–µ –ø–æ-–≥–æ—Ä–µ, –∑–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ —É—á–µ–±–Ω–∞—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–∞.</p>
    `;
    subjectsDiv.appendChild(initialMessage);
}); 